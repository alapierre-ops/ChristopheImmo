<!DOCTYPE html><html lang="fr"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.15.4"><title>Studio de charme &quot;El Cubanito&quot;</title><style>*{box-sizing:border-box}html,body{margin:0;padding:0;width:100%;min-height:100vh;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;line-height:1.6;color:#333;background-color:#f5f5f5}h1,h2,h3,h4,h5,h6{margin:0;font-weight:600}a{text-decoration:none;color:inherit}
</style>
<link rel="stylesheet" href="/_astro/_id_.3NrwxTWf.css"></head> <body>  <main> <a href="/" class="back-link" id="back-link"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M19 12H5M12 19l-7-7 7-7"></path> </svg>
Retour à la liste
</a> <div class="container"> <div class="property-header"> <div class="property-title-section"> <h1>Studio de charme &quot;El Cubanito&quot;</h1> <p class="property-address"> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path> <circle cx="12" cy="10" r="3"></circle> </svg> Avignon intra-muros, à moins de 500 m du Palais des Papes </p> <div class="property-badge">Disponible</div> </div> <div class="property-price-large">  <span class="price-amount">500</span> <span class="price-unit">€/mois</span>  <span class="water-included">Eau, chauffage et TEOM inclus</span> </div> </div> <div class="property-gallery"> <div class="gallery-main"> <div class="main-image-container" id="main-image-container"> <img src="/images/Cubanito/cubanito1.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Image principale" class="main-image" id="main-image"> <div class="image-overlay"> <div class="image-counter"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect> <circle cx="8.5" cy="8.5" r="1.5"></circle> <polyline points="21 15 16 10 5 21"></polyline> </svg> <span id="current-image-index">1</span> / 11 </div> <button class="view-all-btn" id="view-all-btn">
Voir toutes les photos
</button> </div>  <button class="gallery-nav-btn gallery-nav-prev" id="prev-btn"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M15 18l-6-6 6-6"></path> </svg> </button> <button class="gallery-nav-btn gallery-nav-next" id="next-btn"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M9 18l6-6-6-6"></path> </svg> </button>  </div> <div class="gallery-grid"> <div class="gallery-thumb " data-image-index="1"> <img src="/images/Cubanito/cubanito3.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Image 2">  </div><div class="gallery-thumb " data-image-index="2"> <img src="/images/Cubanito/cubanito5.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Image 3">  </div><div class="gallery-thumb " data-image-index="3"> <img src="/images/Cubanito/cubanito6.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Image 4">  </div><div class="gallery-thumb has-more" data-image-index="4"> <img src="/images/Cubanito/cubanito7.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Image 5"> <div class="more-images-overlay">
+6 </div> </div> </div> </div> <div class="gallery-thumbnails" id="gallery-thumbnails"> <div class="thumbnail-item active" data-image-index="0"> <img src="/images/Cubanito/cubanito1.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 1"> </div><div class="thumbnail-item " data-image-index="1"> <img src="/images/Cubanito/cubanito3.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 2"> </div><div class="thumbnail-item " data-image-index="2"> <img src="/images/Cubanito/cubanito5.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 3"> </div><div class="thumbnail-item " data-image-index="3"> <img src="/images/Cubanito/cubanito6.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 4"> </div><div class="thumbnail-item " data-image-index="4"> <img src="/images/Cubanito/cubanito7.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 5"> </div><div class="thumbnail-item " data-image-index="5"> <img src="/images/Cubanito/cubanito8.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 6"> </div><div class="thumbnail-item " data-image-index="6"> <img src="/images/Cubanito/cubanito9.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 7"> </div><div class="thumbnail-item " data-image-index="7"> <img src="/images/Cubanito/cubanito10.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 8"> </div><div class="thumbnail-item " data-image-index="8"> <img src="/images/Cubanito/cubanito12.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 9"> </div><div class="thumbnail-item " data-image-index="9"> <img src="/images/Cubanito/cubanito18.JPG" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 10"> </div><div class="thumbnail-item " data-image-index="10"> <img src="/images/Cubanito/cubanito21.jpg" alt="Studio de charme &#34;El Cubanito&#34; - Miniature 11"> </div> </div> </div> <div class="property-content-grid"> <div class="property-main"> <section class="property-section"> <h2>Description</h2> <div class="property-description-text"> <p key="0" class> <span key="0"> Studio de charme &quot;El Cubanito&quot; avec eau, chauffage collectif et TEOM inclus dans les charges soit 500 € mensuel : situé à Avignon intra-muros disponible exclusivement en bail étudiant ou en bail mobilité du 01/08/25 jusqu&#39;au 30/06/26 et composé d&#39;un coin nuit / séjour, cuisine ouverte, salle d&#39;eau et WC séparé.  </span> </p><p key="1" class="description-numbered"> <span key="0"> 1/ Au cœur du quartier historique d&#39;Avignon intra-muros le plus recherché (à moins de 500 m du Palais des Papes) et à proximité immédiate du PARKING des halles.  </span> </p><p key="2" class="description-numbered"> <span key="0"> 2/ Au cinquième étage avec ascenseur (sur 6) d&#39;un petit immeuble de charme haussmannien sécurisé (digicode + interphone) orienté côté est = CALME ASSURÉ.  </span> </p><p key="3" class="description-numbered"> <span key="0"> 3/ Vue magique et imprenable sur les toits d&#39;Avignon et le Palais des Papes.  </span> </p><p key="4" class> <span key="0"> Le coin nuit dispose d&#39;un lit confortable en 140 cm x 190 cm, d&#39;un paravent pour l&#39;isoler (selon votre souhait), d&#39;une armoire de rangement et d&#39;un meuble séparateur IKEA.  </span> </p><p key="5" class> <span key="0"> La cuisine est équipée des éléments électroménagers suivants : <br> </span><span key="1"> - Hotte – Four à catalyse – Plaques de cuisson vitrocéramique – Réfrigérateur congélateur – Micro-ondes – Grille pain et bouilloire – Cafetière électrique – Vaisselle et ustensiles de cuisine  </span> </p><p key="6" class> <span key="0"> Sont également mis à disposition : <br> </span><span key="1"> - Lave linge séchant <br> </span><span key="2"> - Dressing fonctionnel <br> </span><span key="3"> - Table ronde et chaises <br> </span><span key="4"> - TV Led 80 cm sur meuble <br> </span><span key="5"> - Aspirateur traîneau <br> </span><span key="6"> - Fer et planche à repasser <br> </span><span key="7"> - Ventilateur sur trépied  </span> </p><p key="7" class> <span key="0"> EDF à votre charge ou sur forfait mensuel régularisable de 35 €  </span> </p><p key="8" class> <span key="0"> - Option internet SFR : + 23 € / mois <br> </span><span key="1"> - Caution 1 mois : 500 € <br> </span><span key="2"> - Parking Relais gratuit (des Italiens) ou des Halles (payant) à proximité  </span> </p> </div> </section> <section class="property-section"> <h2>Caractéristiques</h2> <div class="features-grid"> <div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> Ascenseur </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> Chauffage collectif inclus </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> Cuisine équipée </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> Digicode + Interphone </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> Eau incluse </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> TEOM incluse </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> 5ème étage sur 6 </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> Vue sur le Palais des Papes </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> Lave-linge séchant </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> TV Led 80 cm </div><div class="feature-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <polyline points="20 6 9 17 4 12"></polyline> </svg> Parking à proximité </div> </div> </section> </div> <aside class="property-sidebar"> <div class="info-card"> <h3>Informations</h3> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect> <line x1="9" y1="3" x2="9" y2="21"></line> <line x1="3" y1="9" x2="21" y2="9"></line> </svg> <div> <div class="info-label">Surface</div> <div class="info-value">22 m²</div> </div> </div> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path> <polyline points="9 22 9 12 15 12 15 22"></polyline> </svg> <div> <div class="info-label">Pièces</div> <div class="info-value">1 pièce</div> </div> </div> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path> <polyline points="9 22 9 12 15 12 15 22"></polyline> </svg> <div> <div class="info-label">Étage</div> <div class="info-value">5ème étage sur 6</div> </div> </div> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <line x1="12" y1="1" x2="12" y2="23"></line> <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path> </svg> <div> <div class="info-label">Loyer</div> <div class="info-value"> 500 €/mois
<span class="water-included">Eau, chauffage et TEOM inclus</span> </div> </div> </div> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path> <polyline points="14 2 14 8 20 8"></polyline> <line x1="16" y1="13" x2="8" y2="13"></line> <line x1="16" y1="17" x2="8" y2="17"></line> <polyline points="10 9 9 9 8 9"></polyline> </svg> <div> <div class="info-label">Type de bail</div> <div class="info-value">Bail étudiant ou bail mobilité</div> </div> </div> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect> <line x1="16" y1="2" x2="16" y2="6"></line> <line x1="8" y1="2" x2="8" y2="6"></line> <line x1="3" y1="10" x2="21" y2="10"></line> </svg> <div> <div class="info-label">Période</div> <div class="info-value">01/08/25 - 30/06/26</div> </div> </div> </div> <div class="info-card"> <h3>Charges supplémentaires</h3> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <circle cx="12" cy="12" r="10"></circle> <polyline points="12 6 12 12 16 14"></polyline> </svg> <div> <div class="info-label">Électricité</div> <div class="info-value">35 €/mois (forfait régularisable) ou à votre charge</div> </div> </div> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <circle cx="12" cy="12" r="10"></circle> <line x1="2" y1="12" x2="22" y2="12"></line> <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path> </svg> <div> <div class="info-label">Internet</div> <div class="info-value">23 €/mois (option SFR)</div> </div> </div> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect> <path d="M7 11V7a5 5 0 0 1 10 0v4"></path> </svg> <div> <div class="info-label">Caution</div> <div class="info-value">500 € (1 mois)</div> </div> </div> </div> <div class="info-card"> <h3>Parking</h3> <div class="info-item"> <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect> <path d="M3 9h18M9 3v18"></path> </svg> <div> <div class="info-label">Parking</div> <div class="info-value">Parking Relais gratuit (des Italiens) ou des Halles (payant) à proximité</div> </div> </div> </div> <div class="contact-card"> <h3>Intéressé(e) ?</h3> <p>Contactez-moi pour organiser une visite ou obtenir plus d'informations.</p> <div class="contact-buttons"> <a href="mailto:christophe-lapierre@orange.fr" class="btn btn-primary" id="email-button" data-property-id="1" data-property-title="Studio de charme &#34;El Cubanito&#34;"> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path> <polyline points="22,6 12,13 2,6"></polyline> </svg>
Envoyer un email
</a> <a href="tel:+33601767543" class="btn btn-secondary" id="phone-button" data-property-id="1" data-property-title="Studio de charme &#34;El Cubanito&#34;"> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"> <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path> </svg>
Appeler
</a> </div> </div> </aside> </div> </div> </main>  <script>(function(){const posthogKey = "phc_shgicawrLg8XKpODao0vYtLfGfyXAKPNoALL0l9WPwq";
const posthogHost = "https://eu.i.posthog.com";

			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
			if (posthogKey && posthogKey !== 'phc_YOUR_KEY_HERE') {
				posthog.init(posthogKey, {api_host: posthogHost});
			}
		})();</script> </body> </html> <script>(function(){const propertyId = "1";
const propertyTitle = "Studio de charme \"El Cubanito\"";
const propertyImages = ["/images/Cubanito/cubanito1.JPG","/images/Cubanito/cubanito3.JPG","/images/Cubanito/cubanito5.JPG","/images/Cubanito/cubanito6.JPG","/images/Cubanito/cubanito7.JPG","/images/Cubanito/cubanito8.JPG","/images/Cubanito/cubanito9.JPG","/images/Cubanito/cubanito10.JPG","/images/Cubanito/cubanito12.JPG","/images/Cubanito/cubanito18.JPG","/images/Cubanito/cubanito21.jpg"];

	// Inline PostHog tracking functions
	function trackEvent(eventName, properties) {
		if (typeof window !== 'undefined' && window.posthog) {
			window.posthog.capture(eventName, properties);
		}
	}
	
	const events = {
		propertyViewed: (propertyId, propertyTitle) => 
			trackEvent('property_viewed', { property_id: propertyId, property_title: propertyTitle }),
		backToListClicked: () => 
			trackEvent('back_to_list_clicked'),
		emailClicked: (propertyId, propertyTitle) => 
			trackEvent('email_clicked', { property_id: propertyId, property_title: propertyTitle }),
		phoneClicked: (propertyId, propertyTitle) => 
			trackEvent('phone_clicked', { property_id: propertyId, property_title: propertyTitle }),
		galleryImageChanged: (propertyId, imageIndex) => 
			trackEvent('gallery_image_changed', { property_id: propertyId, image_index: imageIndex }),
	};
	
	events.propertyViewed(propertyId, propertyTitle);
	
	document.addEventListener('DOMContentLoaded', () => {
		const imageList = propertyImages || [];
		let currentImageIndex = 0;
		let fullscreenIndex = 0;
		let touchStartX = 0;
		let touchEndX = 0;
		
		const mainImage = document.getElementById('main-image');
		const mainImageContainer = document.getElementById('main-image-container');
		const currentImageIndexEl = document.getElementById('current-image-index');
		const prevBtn = document.getElementById('prev-btn');
		const nextBtn = document.getElementById('next-btn');
		const viewAllBtn = document.getElementById('view-all-btn');
		const galleryThumbs = document.querySelectorAll('.gallery-thumb');
		const thumbnailItems = document.querySelectorAll('.thumbnail-item');
		
		// Fullscreen modal elements
		let fullscreenModal = null;
		let fullscreenImage = null;
		let fullscreenCounter = null;
		let fullscreenPrevBtn = null;
		let fullscreenNextBtn = null;
		let fullscreenCloseBtn = null;
		
		function createFullscreenModal() {
			if (fullscreenModal) return;
			
			fullscreenModal = document.createElement('div');
			fullscreenModal.className = 'fullscreen-modal';
			fullscreenModal.innerHTML = `
				<button class="fullscreen-close" aria-label="Fermer">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<line x1="18" y1="6" x2="6" y2="18"/>
						<line x1="6" y1="6" x2="18" y2="18"/>
					</svg>
				</button>
				<button class="fullscreen-nav fullscreen-prev" aria-label="Image précédente">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M15 18l-6-6 6-6"/>
					</svg>
				</button>
				<button class="fullscreen-nav fullscreen-next" aria-label="Image suivante">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M9 18l6-6-6-6"/>
					</svg>
				</button>
				<div class="fullscreen-content">
					<img class="fullscreen-img" src="" alt="" />
					<div class="fullscreen-counter">
						<span class="fullscreen-current">1</span> / <span class="fullscreen-total">${imageList.length}</span>
					</div>
				</div>
			`;
			document.body.appendChild(fullscreenModal);
			
			fullscreenImage = fullscreenModal.querySelector('.fullscreen-img');
			fullscreenCounter = fullscreenModal.querySelector('.fullscreen-current');
			fullscreenPrevBtn = fullscreenModal.querySelector('.fullscreen-prev');
			fullscreenNextBtn = fullscreenModal.querySelector('.fullscreen-next');
			fullscreenCloseBtn = fullscreenModal.querySelector('.fullscreen-close');
			
			// Close modal handlers
			fullscreenCloseBtn?.addEventListener('click', closeFullscreen);
			fullscreenModal.addEventListener('click', (e) => {
				if (e.target === fullscreenModal) {
					closeFullscreen();
				}
			});
			
			// Navigation in fullscreen
			fullscreenPrevBtn?.addEventListener('click', (e) => {
				e.stopPropagation();
				if (fullscreenIndex > 0) {
					updateFullscreenImage(fullscreenIndex - 1);
				}
			});
			
			fullscreenNextBtn?.addEventListener('click', (e) => {
				e.stopPropagation();
				if (fullscreenIndex < imageList.length - 1) {
					updateFullscreenImage(fullscreenIndex + 1);
				}
			});
			
			// Keyboard navigation in fullscreen
			document.addEventListener('keydown', handleFullscreenKeyboard);
			
			// Touch swipe in fullscreen
			let fullscreenTouchStartX = 0;
			let fullscreenTouchEndX = 0;
			
			fullscreenModal.addEventListener('touchstart', (e) => {
				fullscreenTouchStartX = e.changedTouches[0].screenX;
			}, { passive: true });
			
			fullscreenModal.addEventListener('touchend', (e) => {
				fullscreenTouchEndX = e.changedTouches[0].screenX;
				handleFullscreenSwipe();
			}, { passive: true });
			
			function handleFullscreenSwipe() {
				const swipeThreshold = 50;
				const diff = fullscreenTouchStartX - fullscreenTouchEndX;
				
				if (Math.abs(diff) > swipeThreshold) {
					if (diff > 0 && fullscreenIndex < imageList.length - 1) {
						updateFullscreenImage(fullscreenIndex + 1);
					} else if (diff < 0 && fullscreenIndex > 0) {
						updateFullscreenImage(fullscreenIndex - 1);
					}
				}
			}
		}
		
		function openFullscreen(index) {
			if (!imageList || imageList.length === 0) return;
			if (index < 0 || index >= imageList.length) return;
			
			createFullscreenModal();
			if (!fullscreenModal) return;
			
			fullscreenIndex = index;
			updateFullscreenImage(index);
			fullscreenModal.classList.add('active');
			document.body.style.overflow = 'hidden';
		}
		
		function closeFullscreen() {
			if (!fullscreenModal) return;
			fullscreenModal.classList.remove('active');
			document.body.style.overflow = '';
			document.removeEventListener('keydown', handleFullscreenKeyboard);
		}
		
		function updateFullscreenImage(index) {
			if (!fullscreenImage || !fullscreenCounter || !imageList || imageList.length === 0) return;
			
			fullscreenIndex = index;
			fullscreenImage.src = imageList[index];
			fullscreenImage.alt = `${propertyTitle} - Image ${index + 1}`;
			fullscreenCounter.textContent = String(index + 1);
			
			// Update navigation buttons
			if (fullscreenPrevBtn) {
				fullscreenPrevBtn.style.opacity = index === 0 ? '0.3' : '1';
				fullscreenPrevBtn.style.pointerEvents = index === 0 ? 'none' : 'auto';
			}
			if (fullscreenNextBtn) {
				fullscreenNextBtn.style.opacity = index === imageList.length - 1 ? '0.3' : '1';
				fullscreenNextBtn.style.pointerEvents = index === imageList.length - 1 ? 'none' : 'auto';
			}
			
			events.galleryImageChanged(propertyId, index);
		}
		
		function handleFullscreenKeyboard(e) {
			if (!fullscreenModal?.classList.contains('active')) return;
			
			if (e.key === 'Escape') {
				closeFullscreen();
			} else if (e.key === 'ArrowLeft' && fullscreenIndex > 0) {
				updateFullscreenImage(fullscreenIndex - 1);
			} else if (e.key === 'ArrowRight' && fullscreenIndex < imageList.length - 1) {
				updateFullscreenImage(fullscreenIndex + 1);
			}
		}
		
		function updateMainImage(index) {
			if (!mainImage || !imageList || imageList.length === 0) return;
			
			currentImageIndex = index;
			mainImage.src = imageList[index];
			
			if (currentImageIndexEl) {
				currentImageIndexEl.textContent = String(index + 1);
			}
			
			// Update active states
			galleryThumbs.forEach((thumb, i) => {
				thumb.classList.toggle('active', i + 1 === index);
			});
			
			thumbnailItems.forEach((item, i) => {
				item.classList.toggle('active', i === index);
			});
			
			// Update navigation buttons visibility
			if (prevBtn) {
				prevBtn.style.opacity = index === 0 ? '0.5' : '1';
				prevBtn.style.pointerEvents = index === 0 ? 'none' : 'auto';
			}
			if (nextBtn) {
				nextBtn.style.opacity = index === imageList.length - 1 ? '0.5' : '1';
				nextBtn.style.pointerEvents = index === imageList.length - 1 ? 'none' : 'auto';
			}
			
			events.galleryImageChanged(propertyId, index);
		}
		
		// Initialize button states
		if (prevBtn && imageList.length > 0) {
			prevBtn.style.opacity = '0.5';
			prevBtn.style.pointerEvents = 'none';
		}
		
		// Click on main image to open fullscreen
		if (mainImageContainer) {
			mainImageContainer.addEventListener('click', (e) => {
				// Don't open fullscreen if clicking on buttons
				const target = e.target;
				if (target && target.closest && (target.closest('.gallery-nav-btn') || target.closest('.view-all-btn') || target.closest('.image-counter'))) {
					return;
				}
				openFullscreen(currentImageIndex);
			});
		}
		
		// Navigation buttons
		if (prevBtn) {
			prevBtn.addEventListener('click', (e) => {
				e.preventDefault();
				e.stopPropagation();
				if (currentImageIndex > 0) {
					updateMainImage(currentImageIndex - 1);
				}
			});
		}
		
		if (nextBtn) {
			nextBtn.addEventListener('click', (e) => {
				e.preventDefault();
				e.stopPropagation();
				if (currentImageIndex < imageList.length - 1) {
					updateMainImage(currentImageIndex + 1);
				}
			});
		}
		
		// Gallery thumbnails click
		galleryThumbs.forEach((thumb) => {
			thumb.addEventListener('click', (e) => {
				e.preventDefault();
				e.stopPropagation();
				const index = parseInt(thumb.getAttribute('data-image-index') || '0');
				updateMainImage(index);
			});
		});
		
		// Thumbnail items click - open fullscreen
		thumbnailItems.forEach((item) => {
			item.addEventListener('click', (e) => {
				e.preventDefault();
				e.stopPropagation();
				const index = parseInt(item.getAttribute('data-image-index') || '0');
				updateMainImage(index);
				openFullscreen(index);
			});
		});
		
		// View all button - open fullscreen
		if (viewAllBtn) {
			viewAllBtn.addEventListener('click', (e) => {
				e.preventDefault();
				e.stopPropagation();
				openFullscreen(currentImageIndex);
			});
		}
		
		// Touch swipe support for main image
		if (mainImageContainer) {
			mainImageContainer.addEventListener('touchstart', (e) => {
				touchStartX = e.changedTouches[0].screenX;
			}, { passive: true });
			
			mainImageContainer.addEventListener('touchend', (e) => {
				touchEndX = e.changedTouches[0].screenX;
				handleSwipe();
			}, { passive: true });
		}
		
		function handleSwipe() {
			const swipeThreshold = 50;
			const diff = touchStartX - touchEndX;
			
			if (Math.abs(diff) > swipeThreshold) {
				if (diff > 0 && currentImageIndex < imageList.length - 1) {
					updateMainImage(currentImageIndex + 1);
				} else if (diff < 0 && currentImageIndex > 0) {
					updateMainImage(currentImageIndex - 1);
				}
			}
		}
		
		// Keyboard navigation
		document.addEventListener('keydown', (e) => {
			if (fullscreenModal?.classList.contains('active')) return;
			
			if (mainImageContainer && document.activeElement === document.body) {
				if (e.key === 'ArrowLeft' && currentImageIndex > 0) {
					updateMainImage(currentImageIndex - 1);
				} else if (e.key === 'ArrowRight' && currentImageIndex < imageList.length - 1) {
					updateMainImage(currentImageIndex + 1);
				}
			}
		});
		
		const backLink = document.getElementById('back-link');
		if (backLink) {
			backLink.addEventListener('click', () => {
				events.backToListClicked();
			});
		}
		
		const emailButton = document.getElementById('email-button');
		if (emailButton) {
			emailButton.addEventListener('click', () => {
				events.emailClicked(propertyId, propertyTitle);
			});
		}
		
		const phoneButton = document.getElementById('phone-button');
		if (phoneButton) {
			phoneButton.addEventListener('click', () => {
				events.phoneClicked(propertyId, propertyTitle);
			});
		}
	});
})();</script>